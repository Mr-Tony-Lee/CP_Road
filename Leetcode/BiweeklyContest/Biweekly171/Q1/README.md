# LeetCode 3765. Complete Prime Number

## 1. 核心概念：質數判定與數字拆分

這道題目要求我們判斷一個數字是否為「完全質數」(Complete Prime)。根據程式碼邏輯，一個數字若滿足以下條件則為完全質數：
- 該數字的所有**前綴 (Prefix)** 都是質數。
- 該數字的所有**後綴 (Suffix)** 都是質數。

例如，對於數字 $123$：
- 前綴：$1, 12, 123$
- 後綴：$3, 23, 123$

若上述所有數字皆為質數，則返回 `true`，否則返回 `false`。

## 2. 解題策略：模擬與優化

我們需要遍歷所有可能的分割點，檢查分割出來的前綴和後綴是否均為質數。

### 演算法步驟

1.  **質數判定函數 (`isPrime`)**：
    -   實作一個輔助函數來檢查整數 $n$ 是否為質數。
    -   若 $n < 2$，回傳 `false`。
    -   從 $2$ 遍歷到 $\sqrt{n}$，若能整除則非質數。

2.  **遍歷分割 (兩種方法)**：
    -   **字串法 (String Method)**：
        -   將數字轉為字串。
        -   利用迴圈與 `substr` 切割出所有前綴與後綴。
        -   將子字串轉回整數並檢查是否為質數。
    -   **數學法 (Math Method - Optimized)**：
        -   不使用字串，直接利用數學運算分離數字。
        -   維護變數 `x` (代表剩餘的前綴) 與 `y` (代表累積的後綴)。
        -   每次迴圈將 `x` 的個位數取出，加到 `y` 的最高位。
        -   檢查當前的 `x` 與 `y` 是否為質數。

### 複雜度分析
- **時間複雜度**：$O(D \cdot \sqrt{N})$，其中 $D$ 為數字的位數 ($D \approx \log_{10} N$)。我們需要進行 $D$ 次分割，每次分割後的質數判定需 $O(\sqrt{N})$。
- **空間複雜度**：
    -   字串法：$O(D)$，用於儲存字串。
    -   數學法：$O(1)$，僅需常數空間。
