# LeetCode 3623. Count Number of Trapezoids I

## 1. 核心數學概念：組合數學

我們的目標是計算由給定點集組成的梯形數量，其中梯形的上下底必須是水平線段。

對於每一條水平線（相同的 y 座標），如果有 $k$ 個點，我們可以形成的水平線段數量為：
$$
\text{Segments} = C(k, 2) = \frac{k \times (k-1)}{2}
$$

任意兩條不同高度的水平線段都可以組成一個梯形。

## 2. 解題策略：Hash Map + 前綴和

我們利用 Hash Map 統計每個 y 座標上的點數，並計算該高度能形成的線段數。接著利用前綴和的概念，將當前高度的線段數與之前所有高度的線段數總和相乘，即可得到以當前高度為底的梯形數量。

### 演算法步驟

1. 使用 Hash Map `horiz` 記錄每個 y 座標出現的次數。
2. 遍歷 Hash Map：
   - 計算當前 y 座標能形成的線段數 `edge`。
   - `ans += edge * prev_sum`，其中 `prev_sum` 是之前遍歷過的所有 y 座標的線段數總和。
   - 更新 `prev_sum += edge`。
3. 取模運算以避免溢位。
